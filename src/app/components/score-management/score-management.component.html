<div class="panel-box-header">
    <select *ngIf="isNotSelected || isOneSelected" [(ngModel)]="selectedStudent"
        [disabled]="isFormSubmited || studentList.length == 0 || isOneSelected">
        <!-- twoWayBinding ุฑูุด -->
        <option [ngValue]="null">
            {{ (studentList.length == 0) ? 'ุงุจุชุฏุง ุฏุงูุดุฌู ุงุถุงูู ฺฉูุฏ' : 'ุฏุงูุดุฌู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ' }}
        </option>
        <option *ngFor="let student of studentList" [ngValue]="student">{{ student?.name }}</option>
    </select>
    <select *ngIf="isNotSelected || isOneSelected" [(ngModel)]="selectedCourse"
        [disabled]="isFormSubmited || courseList.length == 0 || isOneSelected">
        <!-- twoWayBinding ุฑูุด -->
        <option [ngValue]="null">
            {{ (courseList.length == 0) ? 'ุงุจุชุฏุง ุฏุฑุณ ุงุถุงูู ฺฉูุฏ' : 'ุฏุฑุณ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ' }}
        </option>
        <option *ngFor="let course of courseList" [ngValue]="course">{{ course?.title }}</option>
    </select>
    <input *ngIf="isNotSelected || isOneSelected" [(ngModel)]="score.scoreNumber" type="number" max="20" min="0"
        placeholder="ููุฑู (0 ุชุง 20) " [disabled]="isFormSubmited">
    <!-- twoWayBinding ุฑูุด -->

    <button class="btn-blue" *ngIf="isOneSelected; else createMode" type="button" (click)="onEditScore()" title="ูุฑุงุด"
        [disabled]="isFormSubmited">ูุฑุงุด</button>
    <ng-template #createMode>
        <button class="btn-blue" *ngIf="isNotSelected" type="button" (click)="onAddScore()" [disabled]="isFormSubmited"
            title="ุงูุฒูุฏู">+</button>
    </ng-template>

    <div class="counter" *ngIf="isManySelected || isAllSelected">
        <button class="btn-red" type="button" (click)="onRemoveAllClick()" [disabled]="isFormSubmited"
            title="ุญุฐู ุงูุชุฎุงุจ ุดุฏู ูุง">ุญุฐู {{ selectedScores.length }} ููุฑุฏ</button>
    </div>
</div>

<app-alert-message (isVisible)="onAlertMessageVisible($event)"></app-alert-message>

<div class="panel-box-content">
    <button [disabled]="scoreList.length < 2" *ngIf="scoreList.length != 0"
        [class]="isAllSelected ? 'select-all-checkbox selected' : 'select-all-checkbox'" (click)="onSelectAllClick()">
        ุงูุชุฎุงุจ ููู
    </button>

    <div class="content-item" *ngFor="let score of scoreList; let i = index">
        <div class="item-col">
            <span class="title">ูุงู:</span>
            <span>{{ score.student.name }}</span>
        </div>
        <div class="item-col">
            <span class="title">ุฏุฑุณ:</span>
            <span>{{ score.course.title }}</span>
        </div>
        <div class="item-col">
            <span class="title">ููุฑู:</span>
            <span [class]="
                        (score.scoreNumber < 10) ? 'score rejected' :
                        (score.scoreNumber >= 10 && score.scoreNumber < 19) ? 'score passed' :
                        (score.scoreNumber >= 18) ? 'score gold' : ''
                    " [title]="(score.scoreNumber >= 10) ? 'ูุจูู' : 'ูุฑุฏูุฏ' ">
                {{score.scoreNumber}}
                <span class="icon" *ngIf="score.scoreNumber < 10">๐ซ</span>
                <span class="icon" *ngIf="score.scoreNumber >= 10 && score.scoreNumber < 19">โ</span>
                <span class="icon" *ngIf="score.scoreNumber >= 19">๐</span>
            </span>
        </div>

        <div class="item-col">
            <button class="btn-remove" (click)="onRemoveScore(score.ID)" title="ุญุฐู">
                โ
            </button>
            <div [class]="isScoreSelected(score) ? 'checkbox selected' : 'checkbox'" (click)="onItemChange(score)">
                <div class="circle"></div>
            </div>
        </div>
    </div>

    <div class="text-center">
        <h5 *ngIf="scoreList.length == 0 && !isLoadDataFail">{{ AppConfig.SCORE_LIST_EMPTY_MESSAGE }}</h5>
        <h5 *ngIf="isLoadDataFail">{{ AppConfig.LOADING_DATA_FAIL_MESSAGE }}</h5>
        <button *ngIf="isLoadDataFail" (click)="loadDatas()">{{ AppConfig.REFRESH_MESSAGE }}</button>
    </div>

    <app-background-blur *ngIf="isShowBlur"></app-background-blur>
    <app-loading *ngIf="isShowLoading"></app-loading>
</div>